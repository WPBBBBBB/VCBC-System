# ูุธุงู ุงููุตุงุฏูุฉ - Authentication System

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุตุงุฏูุฉ ุดุงูู ูุน ุฏุนู OAuth ูู ุฎูุงู:
- **Google OAuth** ๐ต
- **GitHub OAuth** โซ
- **Microsoft OAuth** ๐ด

## ๐๏ธ ุงููุนูุงุฑูุฉ

### Context Providers
```
App.tsx
โโโ ThemeProvider (ุชุจุฏูู ุงููุถุน ุงููููู)
โโโ LanguageProvider (ุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ)
โโโ AuthProvider (ุฅุฏุงุฑุฉ ุงููุตุงุฏูุฉ ูุงูุฌูุณุงุช)
```

### ุงููููุงุช ุงูุฌุฏูุฏุฉ

#### 1. **src/services/supabase.ts**
- ุชููุฆุฉ ุนููู Supabase
- ุชุนุฑูู ุฃููุงุน ุจูุงูุงุช ุงููุณุชุฎุฏู ูุงูุชุญูู

#### 2. **src/contexts/AuthContext.tsx**
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุตุงุฏูุฉ
- ุฏูุงู ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ OAuth
- ุชุชุจุน ุณุฌู ุงูุชุญููุงุช
- ุงูุจูุงุก ุนูู ุงุชุตุงู ูุน ุฌูุณุฉ ุงููุณุชุฎุฏู

#### 3. **src/components/ProtectedRoute.tsx**
- ุญูุงูุฉ ุงููุณุงุฑุงุช ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ

#### 4. ุงูุตูุญุงุช ุงูุฌุฏูุฏุฉ:
- **LoginPage.tsx** - ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- **DashboardPage.tsx** - ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
- **UserProfilePage.tsx** - ููู ุงููุณุชุฎุฏู ุงูุดุฎุตู
- **VerificationHistoryPage.tsx** - ุณุฌู ุงูุชุญููุงุช

## ๐ ุงููุณุงุฑุงุช ุงููุญููุฉ

ุฌููุน ุงููุณุงุฑุงุช ุงูุชุงููุฉ ูุญููุฉ ูุชุชุทูุจ ุชุณุฌูู ุฏุฎูู:

```typescript
/dashboard - ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
/account - ููู ุงููุณุชุฎุฏู ุงูุดุฎุตู
/verification-history - ุณุฌู ุงูุชุญููุงุช
```

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฅูุดุงุก ููู `.env.local` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

### 2. ูู ุงูููููุงุช

#### ุงููุตูู ุฅูู ุจูุงูุงุช ุงููุณุชุฎุฏู:
```typescript
import { useAuth } from '../contexts/AuthContext';

export function MyComponent() {
  const { user, profile, signOut } = useAuth();
  
  return (
    <div>
      <h1>ูุฑุญุจุงูุ {profile?.full_name}</h1>
      <button onClick={signOut}>ุชุณุฌูู ุงูุฎุฑูุฌ</button>
    </div>
  );
}
```

#### ุฅุถุงูุฉ ุชุญูู ุฌุฏูุฏ:
```typescript
const { addVerificationRecord } = useAuth();

await addVerificationRecord({
  certificate_id: 'cert-hash-here',
  verification_result: 'valid',
  certificate_name: 'ุดูุงุฏุฉ PHP',
});
```

#### ุงูุญุตูู ุนูู ุณุฌู ุงูุชุญููุงุช:
```typescript
const { verificationHistory } = useAuth();

verificationHistory.forEach(record => {
  console.log(record.certificate_id, record.verification_result);
});
```

## ๐ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Supabase)

### ุฌุฏูู `user_profiles`
```sql
CREATE TABLE user_profiles (
  id UUID PRIMARY KEY,
  email VARCHAR(255) NOT NULL,
  full_name VARCHAR(255),
  avatar_url TEXT,
  provider VARCHAR(50),
  last_login TIMESTAMP,
  created_at TIMESTAMP
);
```

### ุฌุฏูู `verification_history`
```sql
CREATE TABLE verification_history (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES user_profiles(id),
  certificate_id VARCHAR(255),
  verification_result VARCHAR(50),
  certificate_name VARCHAR(255),
  verified_at TIMESTAMP
);
```

## ๐จ ูุงุฌูุงุช ุงูุฌุฏูุฏุฉ

### 1. ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (LoginPage)
- ุนุฑุถ ุฌููู ูุน ููุฒุงุช ุงููุธุงู
- ุฃุฒุฑุงุฑ OAuth ูุญุณููุฉ
- ุฎูุงุฑ ุงููุชุงุจุนุฉ ูุฒุงุฆุฑ

### 2. ููุญุฉ ุงูุชุญูู (DashboardPage)
- ุชุญูุฉ ูุฑุญุจุฉ ุดุฎุตูุฉ
- ุฅุญุตุงุฆูุงุช ุงูุชุญูู
- ูุตูู ุณุฑูุน ูููููุฒุงุช
- ุณุฌู ุงููุดุงุท ุงูุฃุฎูุฑ
- ูุงุฆูุฉ ููุณุฏูุฉ ูููุณุชุฎุฏู

### 3. ุงูููู ุงูุดุฎุตู (UserProfilePage)
- ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู
- ูุณุฎ ูุนุฑู ุงููุณุชุฎุฏู ูุงูุจุฑูุฏ
- ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ ูุงูุฃูุงู
- ุชุญุฏูุซ ุจูุงูุงุช ุงูููู

### 4. ุณุฌู ุงูุชุญููุงุช (VerificationHistoryPage)
- ุงูุจุญุซ ุนู ุงูุดูุงุฏุงุช
- ุชุตููุฉ ุงููุชุงุฆุฌ
- ุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ
- ุชุญููู ุงูุณุฌูุงุช ูู JSON
- ุงุณุชุฌุงุจุฉ ูุงููุฉ ููููุงุชู

## ๐ ุชุฏูู ุงููุตุงุฏูุฉ

```
1. ุงููุณุชุฎุฏู ูุถุบุท ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Google"
   โ
2. ูุชู ูุชุญ ูุงูุฐุฉ OAuth ูู Google/GitHub/Microsoft
   โ
3. ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎููู
   โ
4. ูุชู ูุชุญ ุฑุงุจุท ุงูุงุณุชุฏุนุงุก ุฅูู /dashboard
   โ
5. AuthContext ูููุดุฆ ููู ุงููุณุชุฎุฏู ุชููุงุฆูุงู
   โ
6. ูุชู ุญูุธ ุงูุจูุงูุงุช ูู Supabase
   โ
7. ุงููุณุชุฎุฏู ููุนุงุฏ ุชูุฌููู ุฅูู ููุญุฉ ุงูุชุญูู
```

## ๐๏ธ ุงูุชุทููุฑ

### ุชุดุบูู ุงูุฎุงุฏู:
```bash
npm run dev
```

### ุงูุจูุงุก ููุฅูุชุงุฌ:
```bash
npm run build
```

### ุงููุนุงููุฉ:
```bash
npm run preview
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ุชุฃูุฏ ูู ุชุนููู `VITE_SUPABASE_URL` ู `VITE_SUPABASE_ANON_KEY` ูุจู ุงูุฅุทูุงู
2. **OAuth Redirects**: ุฃุถู `http://localhost:5173/dashboard` ุฅูู ูุงุฆูุฉ ุฑูุงุจุท ุงูุงุณุชุฏุนุงุก ูู ุชุทุจููุงุช OAuth
3. **ุงูุฌูุณุงุช**: ูุชู ุญูุธ ุงูุฌูุณุงุช ูู localStorage ุชููุงุฆูุงู
4. **ุงูุฃูุงู**: ูุง ุชุถุน ููุงุชูุญ ุณุฑูุฉ ูู `.env` - ุงุณุชุฎุฏู `VITE_` ููุท ูููุชุบูุฑุงุช ุงูุนุงูุฉ

## ๐จ ุงุณุชููุงู ุงูุฅุนุฏุงุฏ

ูุจู ุงูุฅุทูุงูุ ุชุญุชุงุฌ ุฅูู:

1. โ ุฅูุดุงุก ูุดุฑูุน Supabase ุฌุฏูุฏ
2. โ ุงูุญุตูู ุนูู `VITE_SUPABASE_URL` ู `VITE_SUPABASE_ANON_KEY`
3. โ ุชุญุฏูุซ ููู `.env.local`
4. โ ุฅุถุงูุฉ ุชุทุจููุงุช OAuth ูู Supabase
5. โ ุชุญุฏูุซ redirect URLs

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

- [ ] ุฅุถุงูุฉ Firebase ููุฅุฎุทุงุฑุงุช ุงูููุฑูุฉ
- [ ] ุชูุงูู blockchain ููุชุญูู ุงูุญูููู
- [ ] ุฃุฏุงุฉ ุฅุฏุงุฑุฉ ุงูุดูุงุฏุงุช ูููุณุคูููู
- [ ] ุชูุงุฑูุฑ ูุชุญูููุงุช ูุฑุฆูุฉ
